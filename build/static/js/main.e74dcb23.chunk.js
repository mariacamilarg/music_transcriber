(this["webpackJsonpmusic-transcriber"]=this["webpackJsonpmusic-transcriber"]||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(13),i=a.n(s),r=(a(84),a(2)),l=a(1),c=a(10),u=a(4),p=a(5),h=a(144),d=a(61),m=a.n(d),v=a(62),b=a.n(v),y=(a(85),a(86),a(20),new(window.AudioContext||window.webkitAudioContext)),k=null,f=null;function g(e,t,a){var n=y.createOscillator(),o=y.createGain();n.connect(o),n.type=t,n.frequency.value=e,o.connect(y.destination),n.start(0),o.gain.exponentialRampToValueAtTime(1e-4,y.currentTime+a)}var S=function(e,t,a){var n={C0:16.35,"C#0":17.32,Db0:17.32,D0:18.35,"D#0":19.45,Eb0:19.45,E0:20.6,F0:21.83,"F#0":23.12,Gb0:23.12,G0:24.5,"G#0":25.96,Ab0:25.96,A0:27.5,"A#0":29.14,Bb0:29.14,B0:30.87,C1:32.7,"C#1":34.65,Db1:34.65,D1:36.71,"D#1":38.89,Eb1:38.89,E1:41.2,F1:43.65,"F#1":46.25,Gb1:46.25,G1:49,"G#1":51.91,Ab1:51.91,A1:55,"A#1":58.27,Bb1:58.27,B1:61.74,C2:65.41,"C#2":69.3,Db2:69.3,D2:73.42,"D#2":77.78,Eb2:77.78,E2:82.41,F2:87.31,"F#2":92.5,Gb2:92.5,G2:98,"G#2":103.83,Ab2:103.83,A2:110,"A#2":116.54,Bb2:116.54,B2:123.47,C3:130.81,"C#3":138.59,Db3:138.59,D3:146.83,"D#3":155.56,Eb3:155.56,E3:164.81,F3:174.61,"F#3":185,Gb3:185,G3:196,"G#3":207.65,Ab3:207.65,A3:220,"A#3":233.08,Bb3:233.08,B3:246.94,C4:261.63,"C#4":277.18,Db4:277.18,D4:293.66,"D#4":311.13,Eb4:311.13,E4:329.63,F4:349.23,"F#4":369.99,Gb4:369.99,G4:392,"G#4":415.3,Ab4:415.3,A4:440,"A#4":466.16,Bb4:466.16,B4:493.88,C5:523.25,"C#5":554.37,Db5:554.37,D5:587.33,"D#5":622.25,Eb5:622.25,E5:659.26,F5:698.46,"F#5":739.99,Gb5:739.99,G5:783.99,"G#5":830.61,Ab5:830.61,A5:880,"A#5":932.33,Bb5:932.33,B5:987.77,C6:1046.5,"C#6":1108.73,Db6:1108.73,D6:1174.66,"D#6":1244.51,Eb6:1244.51,E6:1318.51,F6:1396.91,"F#6":1479.98,Gb6:1479.98,G6:1567.98,"G#6":1661.22,Ab6:1661.22,A6:1760,"A#6":1864.66,Bb6:1864.66,B6:1975.53,C7:2093,"C#7":2217.46,Db7:2217.46,D7:2349.32,"D#7":2489.02,Eb7:2489.02,E7:2637.02,F7:2793.83,"F#7":2959.96,Gb7:2959.96,G7:3135.96,"G#7":3322.44,Ab7:3322.44,A7:3520,"A#7":3729.31,Bb7:3729.31,B7:3951.07,C8:4186.01,"C#8":4435,D8:4699,Eb8:4978,E8:5274,F8:5588,"F#8":5920,G8:6272,"G#8":6645,A8:7040,Bb8:7459,B8:7902},o={C:[261.6,329.6,392],Cm:[261.6,311.1,392],"C#":[277.2,349.2,415.3],D:[293.7,370,440],Dm:[293.7,349.2,440],"D#":[311.1,392,466.2],E:[329.6,415.3,493.9],Em:[329.6,392,493.9],F:[349.2,440,523.251],Fm:[349.2,415.3,523.251],"F#":[370,554.365,466.2],G:[392,493.9,587.33],Gm:[392,466.2,587.33],"G#":[466.2,523.251,622.254],A:[440,554.365,659.255],Am:[440,523.251,659.255],"A#":[466.2,587.33,698.456],B:[493.9,622.254,739.989],Bm:[493.9,587.33,739.989]},s=n[e];void 0===s&&(s=440),void 0===t&&(t="sine"),void 0===a&&(a=1.3),k=y.createOscillator(),f=y.createGain(),k.connect(f),k.type=t,"string"===typeof s?void 0===n[s]?(k.frequency.value=o[s][0],g(o[s][1],t,a),g(o[s][2],t,a)):void 0===o[s]&&(k.frequency.value=n[s]):"object"===typeof s?(k.frequency.value=s[0],g(s[1],t,a),g(s[2],t,a)):k.frequency.value=s,f.connect(y.destination),k.start(0),f.gain.exponentialRampToValueAtTime(1e-4,y.currentTime+a)},C=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).abcNotes={Do:"C",Re:"D",Mi:"E",Fa:"F",Sol:"G",La:"A",Si:"B"},e.onMouseDown=function(){e.start=Date.now()},e.onMouseUp=function(){var t=Date.now()-e.start;e.start=0;var a=e.props.note+"/"+e.props.octave;e.props.mouseUpHandler({time:t,note:a})},e.onMouseUpSharp=function(){var t=Date.now()-e.start,a=e.props.note+"#/"+e.props.octave;e.props.mouseUpHandler({time:t,note:a})},e.handleClick=function(){var t=e.props.note+e.props.octave;S(t)},e.handleClickSharp=function(){var t=e.props.note+"#"+e.props.octave;S(t)},e}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"component-key"},o.a.createElement("button",{className:"white",onClick:this.handleClick,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},this.props.note+this.props.octave),this.props.hasSharpKey&&o.a.createElement("button",{className:"black",onClick:this.handleClickSharp,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUpSharp},this.props.note+"#"+this.props.octave))}}]),a}(o.a.Component),E=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handlemouseUp=function(e){n.props.mouseUpHandler(e)},n.handleClick=function(e){n.props.clickHandler(e)},n.octaveMinus=function(){n.props.octaveMinus()},n.octavePlus=function(){n.props.octavePlus()},n.state={},n}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"component-piano"},o.a.createElement(h.a,{id:"octave-dialer",variant:"outlined",onClick:this.octaveMinus},o.a.createElement(m.a,null)),o.a.createElement(C,{note:"C",octave:this.props.octave,keyboardLetter:"A",mouseUpHandler:this.handlemouseUp,clickHandler:this.handleClick,hasSharpKey:!0}),o.a.createElement(C,{note:"D",octave:this.props.octave,keyboardLetter:"S",mouseUpHandler:this.handlemouseUp,clickHandler:this.handleClick,hasSharpKey:!0}),o.a.createElement(C,{note:"E",octave:this.props.octave,keyboardLetter:"D",mouseUpHandler:this.handlemouseUp,clickHandler:this.handleClick}),o.a.createElement(C,{note:"F",octave:this.props.octave,keyboardLetter:"F",mouseUpHandler:this.handlemouseUp,clickHandler:this.handleClick,hasSharpKey:!0}),o.a.createElement(C,{note:"G",octave:this.props.octave,keyboardLetter:"G",mouseUpHandler:this.handlemouseUp,clickHandler:this.handleClick,hasSharpKey:!0}),o.a.createElement(C,{note:"A",octave:this.props.octave,keyboardLetter:"H",mouseUpHandler:this.handlemouseUp,clickHandler:this.handleClick,hasSharpKey:!0}),o.a.createElement(C,{note:"B",octave:this.props.octave,keyboardLetter:"J",mouseUpHandler:this.handlemouseUp,clickHandler:this.handleClick}),o.a.createElement(h.a,{id:"octave-dialer",variant:"outlined",onClick:this.octavePlus},o.a.createElement(b.a,null)))}}]),a}(o.a.Component),D=a(149),w=a(64),A=a.n(w),N=a(63),j=a.n(N),M=(a(108),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleSeek=function(e){n.player.seekTo(e)},n.handleProgress=function(e){n.props.handleProgress(e)},n.handleDuration=function(e){n.props.handleDuration(e)},n.state={enteredUrl:n.props.url,videoUrl:n.props.url},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState({enteredUrl:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({videoUrl:this.state.enteredUrl})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"component-video"},o.a.createElement("form",{className:"search-video",noValidate:!0,autoComplete:"off",onSubmit:this.handleSubmit},o.a.createElement(D.a,{id:"search-bar",label:"YouTube Video URL",value:this.state.enteredUrl,onChange:this.handleChange,variant:"outlined"}),o.a.createElement(h.a,{id:"search-button",variant:"outlined",type:"submit"},o.a.createElement(A.a,null))),o.a.createElement("br",null),o.a.createElement(j.a,{ref:function(t){e.player=t},className:"video-player",url:this.state.videoUrl,controls:!1,loop:!0,pip:!1,volume:this.props.volume,playbackRate:this.props.speed,playing:this.props.playing,onProgress:this.handleProgress,onDuration:this.handleDuration,width:"100%",height:"70%",config:{youtube:{playerVars:{rel:0,disablekb:1,controls:0,modestbranding:1,fs:0,iv_load_policy:3}}}}))}}]),a}(o.a.Component)),O=a(65),U=a.n(O),F=a(70),G=(a(109),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).paint=function(){n.initializeRenderer(),n.initializeContext(),n.group=n.context.openGroup(),n.paintStaff(),n.props.notes.length>0&&n.paintNotes(),n.context.closeGroup()},n.clear=function(){n.context=n.renderer.getContext(),n.context.svg.removeChild(n.group)},n.playStaffNotes=function(){console.log("Play Stave");var e=0;for(var t in n.props.notes){var a=n.props.notes[t],o=a.keys,s=a.duration[0],i=!1;String(a.duration).includes("r")&&(i=!0);var r=void 0!==a.dot&&a.dot,l=60/n.props.tempo*4/s;for(var u in"true"===String(r)&&(l+=l/2),o){var p=String(o[u]).split("/"),h=p[0]+p[1];n.playNote(t,h,l,i,e)}e+=l}var d=Object(c.a)(n);setTimeout((function(){d.played=-1,d.componentDidUpdate()}),1e3*(e+1))},n.playNote=function(e,t,a,o,s){var i=1.5;a>1.5&&(i=a);var r=Object(c.a)(n);!0===o?setTimeout((function(){r.played=e,r.componentDidUpdate(),console.log("chut")}),1e3*s):setTimeout((function(){r.played=e,r.componentDidUpdate(),S(t,"sine",i)}),1e3*s)},n.VF=F.a.Flow,n.width=900,n.height=130,n.container=o.a.createRef(),n.rendererRef=o.a.createRef(),n.played=-1,n}return Object(l.a)(a,[{key:"parseNotes",value:function(e){var t=0,a=this.VF,n=a.StaveNote,o=a.Accidental,s=a.BarNote,i=[];for(var r in e){var l=e[r].keys,c=e[r].duration,u=void 0!==e[r].dot?e[r].dot:null;null!==u&&u[0]?t+=1/c[0]+1/(2*c[0]):t+=1/c[0];var p=new n({clef:this.props.clef,keys:l,duration:c});for(var h in l){var d=String(l[h]);d.includes("#")&&p.addAccidental(h,new o("#")),d.includes("b")&&p.addAccidental(h,new o("b"))}for(var m in u)u[m]&&p.addDot(m);t>1&&(i.push(new s),t=1/c[0]),parseInt(r)===parseInt(this.props.selected)&&p.setStyle({fillStyle:"red",strokeStyle:"red"}),parseInt(r)===parseInt(this.played)&&(console.log("this.played = "+this.played),p.setStyle({fillStyle:"blue",strokeStyle:"blue"})),i.push(p)}return i}},{key:"initializeRenderer",value:function(){var e=this.VF.Renderer;null==this.rendererRef.current&&(this.rendererRef.current=new e(this.container.current,e.Backends.SVG)),this.renderer=this.rendererRef.current,this.renderer.resize(this.width,this.height)}},{key:"initializeContext",value:function(){this.context=this.renderer.getContext(),this.context.setFont("Arial",10,"").setBackgroundFillStyle("#eed")}},{key:"paintStaff",value:function(){var e=this.VF.Stave;this.stave=new e(0,0,this.width),this.stave.addClef(this.props.clef).addTimeSignature(this.props.timeSignature),this.stave.setContext(this.context).draw()}},{key:"paintNotes",value:function(){var e=this.VF.Formatter;this.parsedNotes=this.parseNotes(this.props.notes),this.context=this.renderer.getContext(),e.FormatAndDraw(this.context,this.stave,this.parsedNotes,{auto_beam:!0})}},{key:"componentDidMount",value:function(){this.paint()}},{key:"componentDidUpdate",value:function(){this.clear(),this.paint()}},{key:"render",value:function(){return o.a.createElement("div",{className:"staff-group"},o.a.createElement(h.a,{id:"staff-play",variant:"outlined",onClick:this.playStaffNotes},o.a.createElement(U.a,null)),o.a.createElement("div",{id:"Stave",ref:this.container}))}}]),a}(o.a.Component)),B=a(148),P=a(151),x=a(68),V=a.n(x),T=a(69),H=a.n(T),I=a(150),K=a(152),R=a(67),L=a.n(R),q=a(66),z=a.n(q),_=(a(110),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleClickPlus=function(){n.props.clickPlus()},n.handleClickMinus=function(){n.props.clickMinus()},n.handleChange=function(e){if(e.target.value>0&&e.target.value<300){var t=parseInt(e.target.value);n.props.changeInput(t)}},n.startBit=function(){n.state.play=!n.state.play,n.state.play&&n.makeBit()},n.makeBit=function(){if(n.state.play){var e=6e4/n.props.bpm;S("square",5,.2,5,.1),setTimeout((function(){n.makeBit()}),e)}},n.state={play:!1},n.partBPM="",n}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"metronome"},o.a.createElement(h.a,{id:"metronome-icon",variant:"outlined",onClick:this.startBit,startIcon:o.a.createElement(I.a,{id:"metronome-avatar",src:"https://png.pngtree.com/png-vector/20190928/ourmid/pngtree-classic-metronome-icon-cartoon-style-png-image_1753285.jpg"})}),o.a.createElement(h.a,{variant:"outlined",onClick:this.handleClickMinus},o.a.createElement(z.a,null)),o.a.createElement(K.a,{id:"metrInput",type:"int",onChange:this.handleChange,value:this.props.bpm}),o.a.createElement(h.a,{variant:"outlined",onClick:this.handleClickPlus},o.a.createElement(L.a,null)))}}]),a}(o.a.Component)),J=(a(111),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handlePlayPause=function(e,t){"pause"===t&&n.props.playing?n.props.pause():"play"!==t||n.props.playing||n.props.play()},n.state={playPause:"pause"},n.handleSeekChange=n.handleSeekChange.bind(Object(c.a)(n)),n.handleVolumeChange=n.handleVolumeChange.bind(Object(c.a)(n)),n.handleSpeedChange=n.handleSpeedChange.bind(Object(c.a)(n)),n.handlePlayPause=n.handlePlayPause.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"parseSeconds",value:function(e){var t=new Date(0);return t.setSeconds(e*this.props.duration),t.toISOString().substr(11,8)}},{key:"handleVolumeChange",value:function(e){this.props.handleVolumeChange(e)}},{key:"handleSpeedChange",value:function(e){this.props.handleSpeedChange(e)}},{key:"handleSeekChange",value:function(e){this.props.handleSeekChange(e)}},{key:"render",value:function(){return o.a.createElement("div",{className:"controls"},o.a.createElement("div",{className:"section"},o.a.createElement(_,{bpm:this.props.bpm,clickMinus:this.props.bpmMinus,clickPlus:this.props.bpmPlus,changeInput:this.props.changeBpm})),o.a.createElement("div",{className:"section"},o.a.createElement("label",null,"Speed: "),o.a.createElement("span",null,this.props.speed.toFixed(2),"x"),o.a.createElement("br",null),o.a.createElement("input",{type:"range",min:.25,max:2,step:.25,value:this.props.speed,onChange:this.handleSpeedChange})),o.a.createElement("div",{className:"section"},o.a.createElement("label",null,"Volume: "),o.a.createElement("span",null,100*this.props.volume.toFixed(2),"% "),o.a.createElement("br",null),o.a.createElement("input",{type:"range",min:0,max:1,step:"any",value:this.props.volume,onChange:this.handleVolumeChange})),o.a.createElement("div",{className:"section"},o.a.createElement("label",null,"Seek: "),o.a.createElement("span",null,this.parseSeconds(this.props.timeElapsed)),o.a.createElement("br",null),o.a.createElement("input",{type:"range",min:0,max:.999999,step:"any",value:this.props.timeElapsed,onMouseUp:this.props.handleSeekMouseUp,onMouseDown:this.props.handleSeekMouseDown,onChange:this.handleSeekChange})),o.a.createElement("div",{className:"section"},o.a.createElement(P.a,{value:this.props.playing?"play":"pause",exclusive:!0,onChange:this.handlePlayPause,"aria-label":"text alignment"},o.a.createElement(B.a,{value:"play","aria-label":"centered"},o.a.createElement(V.a,null)),o.a.createElement(B.a,{value:"pause","aria-label":"centered"},o.a.createElement(H.a,null)))))}}]),a}(o.a.Component)),W=(a(112),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).keyToNotes={q:"C",s:"D",d:"E",f:"F",g:"G",h:"A",j:"B"},n.keyToNotesSharp={z:"C",e:"D",t:"F",y:"G",u:"A"},n.upperNote={C:"C#","C#":"D",D:"D#","D#":"E",E:"F",F:"F#","F#":"G",G:"G#","G#":"A",A:"A#","A#":"B"},n.downerNote={"C#":"C",D:"C#","D#":"D",E:"D#",F:"E","F#":"F",G:"F#","G#":"G",A:"G#","A#":"A",B:"A#"},n.onKeyDown=function(e){var t,a,o,s,i,r,l;if(0!==n.start||void 0===n.keyToNotes[e.key]&&void 0===n.keyToNotesSharp[e.key]&&"!"!==e.key||(n.start=Date.now()),"ArrowUp"===String(e.key)&&n.state.notes.length>0){for(s in o=[],a=(t=n.state.notes[n.state.selected]).keys)i=String(a[s]).split("/"),d="",r="",!1===e.shiftKey?i[0].includes("B")?(l=parseInt(i[1])+1,d="C/"+String(l),r="C"+String(l)):(d=n.upperNote[i[0]]+"/"+i[1],r=n.upperNote[i[0]]+i[1]):(l=parseInt(i[1])+1,d=i[0]+"/"+String(l),r=i[0]+String(l)),o.push(d),String(t.duration).includes("r")||S(r);t.keys=o,n.state.notes.splice(n.state.selected,1,t),n.setState({notes:n.state.notes})}else if("ArrowDown"===String(e.key)&&n.state.notes.length>0){for(s in o=[],a=(t=n.state.notes[n.state.selected]).keys)i=String(a[s]).split("/"),d="",r="",e.shiftKey?(l=parseInt(i[1])-1,d=i[0]+"/"+String(l),r=i[0]+String(l)):"C"===i[0]?(l=parseInt(i[1])-1,d="B/"+String(l),r="B"+String(l)):(d=n.downerNote[i[0]]+"/"+i[1],r=n.downerNote[i[0]]+i[1]),o.push(d),String(t.duration).includes("r")||S(r);t.keys=o,n.state.notes.splice(n.state.selected,1,t),n.setState({notes:n.state.notes})}else if(("ArrowLeft"===String(e.key)||"ArrowRight"===String(e.key))&&n.state.notes.length>0)if(e.shiftKey)"ArrowLeft"===String(e.key)?n.setState({selected:Math.max(0,n.state.selected-1)}):n.setState({selected:Math.min(n.nbNotes-1,n.state.selected+1)});else{t=n.state.notes[n.state.selected];var c=parseInt(t.duration[0]),u=!1;String(t.duration).includes("r")&&(u=!0);var p=t.dot;"ArrowLeft"===String(e.key)?c<8&&(!0===p[0]?t.dot[0]=!1:(4===c||(t.dot[0]=!0),c*=2)):c>1&&(!0===p[0]||8===c?(t.dot[0]=!1,c/=2):t.dot[0]=!0),p=t.dot;var h=String(c);!0===u&&(h+="r");var d={keys:t.keys,duration:h,dot:p};n.state.notes.splice(n.state.selected,1,d),n.setState({notes:n.state.notes})}else" "!==String(e.key)&&"Spacebar"!==String(e.key)||(n.state.playing?(console.log("pause key"),n.pause()):(console.log("play key"),n.play()),e.preventDefault())},n.onKeyUp=function(e){var t=Date.now()-n.start;n.start=0;var a=void 0,o=void 0,s=!1;void 0!==n.keyToNotes[e.key]?(n.playNote(n.keyToNotes[e.key]+n.state.octave),a=n.keyToNotes[e.key]+"/"+n.state.octave):void 0!==n.keyToNotesSharp[e.key]?(n.playNote(n.keyToNotesSharp[e.key]+"#"+n.state.octave),a=n.keyToNotesSharp[e.key]+"#/"+n.state.octave):"!"===e.key&&(a="B/4",s=!0),void 0!==a&&(o={note:a,time:t,rest:s},n.handlemouseUp(o))},n.handleSeekMouseDown=function(e){n.setState({seeking:!0})},n.handleSeekMouseUp=function(e){n.setState({seeking:!1,timeElapsed:parseFloat(e.target.value)}),n.video.handleSeek(e.target.value)},n.state={notes:[],octave:"4",selected:0,tempo:60,volume:.7,speed:1,duration:0,playing:!1,timeElapsed:0,seeking:!1},n.start=0,n.key="",n.nbNotes=0,n.handlemouseUp=n.handlemouseUp.bind(Object(c.a)(n)),n.bpmPlus=n.bpmPlus.bind(Object(c.a)(n)),n.bpmMinus=n.bpmMinus.bind(Object(c.a)(n)),n.setBPM=n.setBPM.bind(Object(c.a)(n)),n.octavePlus=n.octavePlus.bind(Object(c.a)(n)),n.octaveMinus=n.octaveMinus.bind(Object(c.a)(n)),n.play=n.play.bind(Object(c.a)(n)),n.pause=n.pause.bind(Object(c.a)(n)),n.handleVideoProgress=n.handleVideoProgress.bind(Object(c.a)(n)),n.handleDuration=n.handleDuration.bind(Object(c.a)(n)),n.handleVolumeChange=n.handleVolumeChange.bind(Object(c.a)(n)),n.handleSpeedChange=n.handleSpeedChange.bind(Object(c.a)(n)),n.handleSeekMouseUp=n.handleSeekMouseUp.bind(Object(c.a)(n)),n.handleSeekMouseDown=n.handleSeekMouseDown.bind(Object(c.a)(n)),n.handleSeekChange=n.handleSeekChange.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"handlemouseUp",value:function(e){var t=e.time,a=6e4/this.state.tempo/4,n="0",o=[!1];t<3*a?n="8":t>=3*a&&t<5*a?n="4":t>=5*a&&t<7*a?(n="4",o=[!0]):t>=7*a&&t<10*a?n="2":t>=10*a&&t<14*a?(n="2",o=[!0]):n="1",!0===e.rest&&(n+="r",console.log(n)),this.addNote({keys:[e.note],duration:n,dot:o})}},{key:"addNote",value:function(e){this.setState({notes:this.state.notes.concat([e]),selected:this.nbNotes}),this.nbNotes+=1}},{key:"playNote",value:function(e){S(e)}},{key:"bpmPlus",value:function(){this.setState({tempo:this.state.tempo+1})}},{key:"bpmMinus",value:function(){this.setState({tempo:this.state.tempo-1})}},{key:"setBPM",value:function(e){this.setState({tempo:e})}},{key:"octavePlus",value:function(){"8"!==this.state.octave&&this.setState({octave:parseInt(this.state.octave)+1+""})}},{key:"octaveMinus",value:function(){"0"!==this.state.octave&&this.setState({octave:parseInt(this.state.octave)-1+""})}},{key:"play",value:function(){console.log("play"),this.setState({playing:!0})}},{key:"pause",value:function(){console.log("pause"),this.setState({playing:!1})}},{key:"handleVideoProgress",value:function(e){this.state.seeking||this.setState({timeElapsed:e.played})}},{key:"handleDuration",value:function(e){this.setState({duration:e})}},{key:"handleVolumeChange",value:function(e){this.setState({volume:parseFloat(e.target.value)})}},{key:"handleSpeedChange",value:function(e){this.setState({speed:parseFloat(e.target.value)})}},{key:"handleSeekChange",value:function(e){this.setState({timeElapsed:parseFloat(e.target.value)})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App",tabIndex:0,onKeyDown:function(t){return e.onKeyDown(t)},onKeyUp:function(t){return e.onKeyUp(t)}},o.a.createElement("h1",null,"Music Transcriber"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",{className:"components-top"},o.a.createElement(E,{octave:this.state.octave,clickHandler:this.handleClick,mouseUpHandler:this.handlemouseUp,octavePlus:this.octavePlus,octaveMinus:this.octaveMinus}),o.a.createElement(M,{ref:function(t){e.video=t},url:"https://www.youtube.com/watch?v=Vgt1d3eAm7A",playing:this.state.playing,volume:this.state.volume,speed:this.state.speed,duration:this.state.duration,onPlay:this.play,onPause:this.pause,handleProgress:this.handleVideoProgress,handleDuration:this.handleDuration})),o.a.createElement("div",{className:"components-middle"},o.a.createElement(J,{bpm:this.state.tempo,bpmMinus:this.bpmMinus,bpmPlus:this.bpmPlus,changeBpm:this.setBPM,play:this.play,pause:this.pause,playing:this.state.playing,volume:this.state.volume,duration:this.state.duration,speed:this.state.speed,timeElapsed:this.state.timeElapsed,handleSpeedChange:this.handleSpeedChange,handleVolumeChange:this.handleVolumeChange,handleSeekMouseUp:this.handleSeekMouseUp,handleSeekMouseDown:this.handleSeekMouseDown,handleSeekChange:this.handleSeekChange})),o.a.createElement("div",{className:"components-bottom"},o.a.createElement(G,{ref:function(t){e.staff=t},clef:"treble",timeSignature:"4/4",notes:this.state.notes,selected:this.state.selected,tempo:this.state.tempo})))}}]),a}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},79:function(e,t,a){e.exports=a(113)},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){}},[[79,1,2]]]);
//# sourceMappingURL=main.e74dcb23.chunk.js.map